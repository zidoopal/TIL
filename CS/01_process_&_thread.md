> 비전공자 ➕ 노베이스 IT 문외한 지두팔<br>
'CS' 라는 말만 들어도 일단 어지럽고... 🙄 무섭고 피하고 싶어짐.<br>
하지만 언제까지 피하고만 있을 순 없는 노릇이니<br>
공부할 때 튀어 나오는 요 녀석들을.. 차근차근 하나씩 정리해보자.<br>
**틀린 정보나, 수정할 내용이 있을 시- 꼭🙏 코멘트 부탁 드립니다. 헬프! 🙇‍♀️💦**

<br>

***

## ✍ 프로세스 (Process)
```
프로세스?.. 어디서 많이 들어본 것 같긴 한데.. 🤔
아! 게임 하다가, 포토샵 하다가, 프리미어 렌더링 걸다가 렉 걸렸을 때! 
ctrl + alt + del 누르면 있었던 것 같은데...? 음 근데 정확한.. 뜻이 뭐지? 🙄
```
✔ 낯선 **'프로세스'** 를 만나기 전,  **'프로그램'** 에 대해서 먼저 짚고 넘어가자!<br>
두팔이같이 아무리 컴퓨터나 개발에 대해서 잘 모른다고 해도 ~~(자랑아님)~~'프로그램' 이라는 말은 많이 들어봤을 거임.<br>
윈도우의 `*.exe` 파일 같이  **'컴퓨터에서 실행 할 수 있는 파일들' == '프로그램'** 이라고 하고,<br>
이런 프로그램들은 '프로그래밍 언어' 로 코드를 작성하여 개발됨.<br>
<br/>
✔ **프로세스** 는 이 수 많은 코드 덩어리들이 '실행' 되면서 정적 상태 > 동적 으로 변하는 상태.
즉, **컴퓨터에서 실행중에 있는 프로그램 == 프로세스** 라고 한다!<br>
> **📝 정리!**
✅ 프로그램: 실행할 수 있는 파일 / 실행 전 정적 상태, 메모리에 적재 X.<br>
✅ 프로세스: 실행되어 작업중인 컴퓨터 프로그램, 그 프로그램이 실행 되어 돌아가고있는 상태.<br>
/ 메모리에 적재됨, CPU 자원 할당받음 / `관리의 주체: OS`

>**🎈 plus**
여러 프로세스를 함께 돌리는 작업은 동시적/병렬적(또는 둘의 혼합)으로 이뤄진다!<br>
-아주 간단한 개념만!- _(CPU의 스레드 와 프로세스의 스레드는 조금 다른 개념이라고 함)_<br>
✅ **동시성(Concurrency)**: 프로세스 하나가 이거 쪼꼼, 저거 쪼꼼, 조고 쪼꼼, 여러작업을 돌아가면서 일부분씩 진행하는것. 
이 과정이 Git똥차게(ㅋㅋㅋ표현ㅋㅋ) 빨리 돌아가서 사람들에게는 이 과정이 마치 동시에 진행되는 것 처럼 느껴짐!<br>
✅ **병렬성(Parallelism)**: 프로세스 하나에 코어가 여러개 달려서 각각 동시에 작업들을 수행하는 것<br>
(ex. 듀얼x2, 쿼드x4 옥타코어x8 같은 멀티코어..)<br>
CPU의 물리적 제약(발열같은)에 대한 대안으로 코어를 여러개 달아서 작업을 분담하도록 만듬<br>
👉 컴퓨터가 여러 개의 프로세스를 함께 돌릴 수 있게 됨!<br>
근데 이걸로 충분할까? 🤔

***

## ✍ 스레드 (Thread)
```
롤을 다운받으려고 웹 브라우저를 켜보았다. 👩‍💻 (예시임. 게임 안함.😔)
다운 받는 동안 롤 홈페이지 구경도 좀 하고, 유튜브 영상도 좀 보고, 벨로그도 쓸래!🤗
```
요즘엔 위와 같은 일(**==멀티태스킹**)은 너무너무 당연한 일상인데,<br>
옛날에는 게임 다운로드 버튼이라도 누르면 마우스/키보드는 조작 조차 안됐었다고 한다..🙄<br>
게임 다운 받는 작업 / 브라우저 돌아다니는 작업 / 마우스, 키보드 입력 받는 작업들을<br>
동시에 하지 못하고 한 번에 프로세스 하나만을 사용하여 한 작업씩만 가능했었다.

👉 이런 프로세스의 한계를 해결하기 위해 **스레드**가 탄생하였다

브라우저도 하나의 프로그램이고, 프로그램이 실행되면 하나의 프로세스가 진행된다.<br>
위 상황에서 게임을 다운 받는 동시에 다른 페이지를 돌아다닐 수 있어야 하고, <br>
유튜브 영상 데이터를 받아오면서- 받아진 데이터로 영상 재생도 할 수 있어야함.<br>
![](https://velog.velcdn.com/images/doopal2/post/0e55ecfd-864a-4ce6-9f4c-c1a82724d9ce/image.png)
> ✔ 이렇게 **프로세스가 할당 받은 자원을 이용하는 실행 흐름의 단위**를 '**스레드(Thread)**'라고 한다.<br>
위 그림과 같이 스레드가 여러 개 있다면 **멀티(다중)스레드**라고 부른다.<br>

> ✔ 멀티스레드의 장/단점<br>
🟢 프로그램 응답속도🔼, 동시에 하는 작업 🔼, 성능 🔼, 시스템 자원 소모 감소 - 자원 효율성🔼
🔴 동기화나 교착상태 발생할 수 있음, 디버깅 까다로움, 하나의 스레드에 문제 발생 시 전체 프로세스가 영향을 받음

***

## ✍ 프로세스 & 스레드의 메모리
### ✔ 프로세스의 자원구조
![](https://velog.velcdn.com/images/doopal2/post/f68bc03b-2f1b-4e55-9224-0953516318d8/image.png)
+ 프로그램이 실행되어 프로세스가 만들어지면 각각 독립 된 메모리 영역을 할당받는다.
  + **코드(또는 텍스트)영역** : 프로그래머가 작성한 프로그램의 코드가 CPU가 해석 가능한
  기계어 형태로 저장되어 있음
  + **데이터 영역** : 코드가 실행되면서 사용하는 전역변수나 각종 환경 / 파일들의 데이터가 모여있음
  + **스택 영역** : 지역변수와 같은 호출한 함수가 종료되면 되돌아올 임시적인 자료를 저장하는 독립적인 공간. Stack은 함수의 호출과 함께 할당되며, 함수의 호출이 완료 되면 소멸함.
스택 영역 초과 시 stack overflow 에러 발생 💣
  + **힙 영역**: 동적으로 할당되는 데이터를 위해 존재함 (ex. 생성자, 인스턴스)
+ 각 프로세스 마다 최소 1개 이상의 메인 스레드를 가지고 있다.
+ 각 프로세스는 별도의 주소 공간에서 실행되고 기본적으로는 다른 프로세스의 자원에 접근 어려움.
  + 완전 불가능은 X, 다른 프로세스의 자원에 접근하려면 프로세스 간 통신을 사용해야 함
  (ex. 파이프, 소켓 등을 이용한 통신방법)
  + 프로세스의 자원 공유는 자원부담이 크고 효율성 ▼, 
  다중작업이 필요한 경우에는 스레드를 이용하는 것이 훨씬 효율적이라 
  대부분의 컴퓨터의 OS에서 다중 프로세싱을 지원은 하나, 다중 스레딩을 기본으로 한다.
+ 여러 프로세스가 동시에 실행 & 관리 되는 것 처럼 보이나, CPU는 한가지 명령밖에 처리할 수 없음. 
즉, 동시가 아니라 아주 빠르게 프로세스들을 번갈아가며 실행하고 관리하고 있는 것임.

+ 스택, 힙 영역은 메모리 공간이 동적으로 할당됨 
↔ 코드, 데이터 영역은 선언 할 때 크기가 결정됨 (정적)
<br>

### ✔ 스레드의 자원 공유
![](https://velog.velcdn.com/images/doopal2/post/84d6a2d5-043c-4473-858c-d3cf588eb3a6/image.png)

위에서도 말했듯, **'스레드'**는 프로세스가 할당받은 자원을 이용하는 실행의 단위이다.<br>
<br/>
스레드가 여러 개 있으면 파일을 실행하고 다운받으며 동시에 다른 작업도 할 수 있게 해준다. <br>
스레드끼리 프로세스 자원을 공유하면서 프로세스 실행 흐름의 일부가 되기 때문에 동시 작업이 가능하다.
<br/>
이 때, 프로세스의 4가지 메모리 영역 중, Stack 부분만 할당받아 복사하고<br>
나머지 code, data, heap 부분은 프로세스 내 다른 스레드들과 **'공유'**된다.
<br/>
이렇게 구성한 이유는 하나의 프로세스를 다수의 실행 단위인 스레드로 구분하여 자원을 공유하고, 자원의 생성과 관리의 중복성을 최소화하여 수행 능력을 올리기 위해서다.

>**stack**은 함수 호출 시 전달되는 인자, 되돌아갈 주소 값, 함수 내에서 선언하는 변수 등을 저장하는 메모리 공간이기 때문에,<br>
독립적인 스택을 가졌다는 것은 독립적인 함수 호출이 가능하다 라는 의미이다.<br>
그리고 독립적인 함수 호출이 가능하다는 것은 독립적인 실행 흐름이 추가된다는 말이다.<br>
<br/>
즉, stack을 가짐으로써 스레드는 **독립적인 실행 흐름**을 가질 수 있게 되는 것이다.


***

## ✍ 프로세스와 스레드의 차이점
- 프로세스는 운영체제로 부터 독립된 별도의 메모리 영역을 할당받음. 
**다른 프로세스의 변수/자료에 접근 할 수 ❌**

- 스레드는 **메모리를 서로 공유할 수 있음**
Stack을 제외한 Code / Data / Heap 부분은 공유하여 서로 읽고 쓸 수 있음 (공유자원)
    + OS resources

>🕵️‍♀️ `프로세스와 스레드에 대해서 설명해보세요`<br>
프로세스와 스레드 에 대한 질문은 결국, <br>
-운영체제(OS)가 시스템의 어떤 자원을 어떤 방식으로 할당하고, 프로세스와 스레드는 이 자원을 어떤 방식으로 활용하는 알고 있는가? - 에 대한 물음.<br>
즉 **내부 작동방식의 이해**에 대한 물음이다 

```
아직, 해당 내용에 대해 깊은 개념이 아주 많이 남아있고- 
위의 내용도 대략적으로 이해 한 것이지, 모두 이해한 것은 아님!!
찬찬히 씹고 뜯어 먹어보면서 소화시켜 보아야지 🏃‍♀️
```

### 📚 참고
***
[영상]
+ [프로세스는 뭐고 스레드는 뭔가요?](https://www.youtube.com/watch?v=iks_Xb9DtTM)



[블로그]
+ [👩‍💻 ‍완전히 정복하는 프로세스 vs 스레드 개념](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%E2%9A%94%EF%B8%8F-%EC%93%B0%EB%A0%88%EB%93%9C-%EC%B0%A8%EC%9D%B4)
+ [[운영체제] 프로세스와 스레드](https://velog.io/@aeong98/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9COS-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C)
+ [프로세스와 스레드의 차이](https://brunch.co.kr/@kd4/3)